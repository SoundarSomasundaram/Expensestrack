<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            list-style: none;
        }

        :root {
            --primary-color: #222260;
            --primary-color2: rgba(34, 34, 96, .6);
            --primary-color3: rgba(34, 34, 96, .4);
            --color-green: #42AD00;
            --color-grey: #aaa;
            --color-accent: #F56692;
            --color-delete: #FF0000;
        }

        body {
            font-family: 'Nunito', sans-serif;
            font-size: clamp(1rem, 1.5vw, 1.2rem);
            overflow: hidden;
            color: rgba(34, 34, 96, .6);
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="%23f0f0f0"/><circle cx="75" cy="75" r="1" fill="%23f0f0f0"/><circle cx="50" cy="10" r="0.5" fill="%23e0e0e0"/><circle cx="10" cy="60" r="0.5" fill="%23e0e0e0"/><circle cx="90" cy="40" r="0.5" fill="%23e0e0e0"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            position: relative;
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--primary-color);
        }

        .error {
            color: red;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(10px); }
            50% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .App {
            height: 100vh;
            position: relative;
        }

        .orb {
            position: absolute;
            width: 70vh;
            height: 70vh;
            background: linear-gradient(180deg, #F56692 0%, #F2994A 100%);
            border-radius: 50%;
            filter: blur(100px);
            animation: move 6s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes move {
            50% {
                transform: translate(-50%, -50%) rotate(180deg);
            }
        }

        .MainLayout {
            max-width: 1660px;
            margin: 0 auto;
            padding: 2rem;
            display: flex;
            gap: 2rem;
            height: 100vh;
        }

        .Navigation {
            padding: 2rem 1.5rem;
            width: 374px;
            height: 100%;
            background: rgba(252, 246, 249, 0.78);
            border: 3px solid #FFFFFF;
            backdrop-filter: blur(4.5px);
            border-radius: 32px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            gap: 2rem;
        }

        .user-con {
            height: 100px;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-con img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            background: #fcf6f9;
            border: 2px solid #FFFFFF;
            padding: .2rem;
            box-shadow: 0px 1px 17px rgba(0, 0, 0, 0.06);
        }

        .user-con h2 {
            color: rgba(34, 34, 96, 1);
        }

        .user-con p {
            color: rgba(34, 34, 96, .6);
        }

        .menu-items {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .menu-items li {
            display: grid;
            grid-template-columns: 40px auto;
            align-items: center;
            margin: .6rem 0;
            font-weight: 500;
            cursor: pointer;
            transition: all .4s ease-in-out;
            color: rgba(34, 34, 96, .6);
            padding-left: 1rem;
            position: relative;
        }

        .menu-items li i {
            color: rgba(34, 34, 96, 0.6);
            font-size: 1.4rem;
            transition: all .4s ease-in-out;
        }

        .menu-items li.active {
            color: rgba(34, 34, 96, 1) !important;
        }

        .menu-items li.active i {
            color: rgba(34, 34, 96, 1) !important;
        }

        .menu-items li.active::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background: #222260;
            border-radius: 0 10px 10px 0;
        }

        .bottom-nav li {
            display: grid;
            grid-template-columns: 40px auto;
            align-items: center;
            margin: .6rem 0;
            font-weight: 500;
            cursor: pointer;
            transition: all .4s ease-in-out;
            color: rgba(34, 34, 96, .6);
            padding-left: 1rem;
        }

        main {
            flex: 1;
            background: rgba(252, 246, 249, 0.78);
            border: 3px solid #FFFFFF;
            backdrop-filter: blur(4.5px);
            border-radius: 32px;
            overflow-x: hidden;
            padding: 2rem;
        }

        main::-webkit-scrollbar {
            width: 0;
        }

        .InnerLayout {
            padding: 2rem;
            background: rgba(252, 246, 249, 0.78);
            border: 3px solid #FFFFFF;
            backdrop-filter: blur(4.5px);
            border-radius: 32px;
            height: 100%;
        }

        .Dashboard {
            height: 100%;
        }

        .stats-con {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 2rem;
            height: calc(100% - 100px);
        }

        .chart-con {
            grid-column: 1 / 4;
            height: 400px;
        }

        .amount-con {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            margin-top: 2rem;
        }

        .income, .expense {
            grid-column: span 2;
        }

        .income, .expense, .balance {
            background: #FCF6F9;
            border: 2px solid #FFFFFF;
            box-shadow: 0px 1px 15px rgba(0, 0, 0, 0.06);
            border-radius: 20px;
            padding: 1rem;
        }

        .income p, .expense p, .balance p {
            font-size: 3.5rem;
            font-weight: 700;
        }

        .balance {
            grid-column: 2 / 4;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .balance p {
            color: var(--color-green);
            opacity: 0.6;
            font-size: 4.5rem;
        }

        .history-con {
            grid-column: 4 / -1;
        }

        .history-con h2 {
            margin: 1rem 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .salary-title {
            font-size: 1.2rem;
        }

        .salary-title span {
            font-size: 1.8rem;
        }

        .salary-item {
            background: #FCF6F9;
            border: 2px solid #FFFFFF;
            box-shadow: 0px 1px 15px rgba(0, 0, 0, 0.06);
            padding: 1rem;
            border-radius: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .salary-item p {
            font-weight: 600;
            font-size: 1.6rem;
        }

        .Income, .Expenses {
            display: flex;
            overflow: auto;
            height: 100%;
        }

        .total-income {
            display: flex;
            justify-content: center;
            align-items: center;
            background: #FCF6F9;
            border: 2px solid #FFFFFF;
            box-shadow: 0px 1px 15px rgba(0, 0, 0, 0.06);
            border-radius: 20px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 2rem;
            gap: .5rem;
        }

        .total-income span {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--color-green);
        }

        .income-content {
            display: flex;
            gap: 2rem;
            width: 100%;
        }

        .form-container {
            flex: 1;
        }

        .incomes {
            flex: 1;
        }

        .Form {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .Form input, .Form textarea, .Form select {
            font-family: inherit;
            font-size: inherit;
            outline: none;
            border: none;
            padding: .5rem 1rem;
            border-radius: 5px;
            border: 2px solid #fff;
            background: transparent;
            resize: none;
            box-shadow: 0px 1px 15px rgba(0, 0, 0, 0.06);
            color: rgba(34, 34, 96, 0.9);
        }

        .Form input::placeholder, .Form textarea::placeholder {
            color: rgba(34, 34, 96, 0.4);
        }

        .input-control input {
            width: 100%;
        }

        .selects {
            display: flex;
            justify-content: flex-end;
        }

        .selects select {
            color: rgba(34, 34, 96, 0.4);
        }

        .selects select:focus, .selects select:active {
            color: rgba(34, 34, 96, 1);
        }

        .submit-btn button {
            box-shadow: 0px 1px 15px rgba(0, 0, 0, 0.06);
            background: var(--color-accent);
            color: #fff;
            border: none;
            padding: .8rem 1.6rem;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .submit-btn button:hover {
            background: var(--color-green) !important;
        }

        .IncomeItem {
            background: #FCF6F9;
            border: 2px solid #FFFFFF;
            box-shadow: 0px 1px 15px rgba(0, 0, 0, 0.06);
            border-radius: 20px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            background: #F5F5F5;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #FFFFFF;
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: .2rem;
        }

        .content h4 {
            color: var(--primary-color);
        }

        .content .inner-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .text {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .text p {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            opacity: 0.8;
            font-size: 0.8rem;
        }

        .delete-btn {
            cursor: pointer;
            color: var(--color-delete);
            font-size: 1.2rem;
        }

        .hidden {
            display: none;
        }

        .chart-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%), 
                        linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f0f0f0 75%), 
                        linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary-color2);
        }
    </style>
</head>
<body>
    <div class="App">
        <div class="orb"></div>
        <div class="MainLayout">
            <nav class="Navigation">
                <div class="user-con">
                    <img src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%23F56692'/><circle cx='35' cy='40' r='5' fill='white'/><circle cx='65' cy='40' r='5' fill='white'/><path d='M 30 60 Q 50 70 70 60' stroke='white' stroke-width='3' fill='none'/></svg>" alt="Avatar">
                    <div class="text">
                        <h2>Mike</h2>
                        <p>Your Money</p>
                    </div>
                </div>
                <ul class="menu-items">
                    <li class="active" data-tab="dashboard">
                        <i class="fa-solid fa-chart-line"></i>
                        <span>Dashboard</span>
                    </li>
                    <li data-tab="transactions">
                        <i class="fa-solid fa-credit-card"></i>
                        <span>View Transactions</span>
                    </li>
                    <li data-tab="income">
                        <i class="fa-solid fa-money-bill-trend-up"></i>
                        <span>Incomes</span>
                    </li>
                    <li data-tab="expenses">
                        <i class="fa-solid fa-money-bill-transfer"></i>
                        <span>Expenses</span>
                    </li>
                </ul>
                <div class="bottom-nav">
                    <li>
                        <i class="fa-solid fa-right-from-bracket"></i> Sign Out
                    </li>
                </div>
            </nav>
            <main>
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content Dashboard">
                    <div class="InnerLayout">
                        <h1>All Transactions</h1>
                        <div class="stats-con">
                            <div class="chart-con">
                                <div class="chart-placeholder">
                                    <i class="fa-solid fa-chart-pie"></i> Expense Chart
                                </div>
                                <div class="amount-con">
                                    <div class="income">
                                        <h2>Total Income</h2>
                                        <p><i class="fa-solid fa-dollar-sign"></i> <span id="total-income">0</span></p>
                                    </div>
                                    <div class="expense">
                                        <h2>Total Expense</h2>
                                        <p><i class="fa-solid fa-dollar-sign"></i> <span id="total-expense">0</span></p>
                                    </div>
                                    <div class="balance">
                                        <h2>Total Balance</h2>
                                        <p><i class="fa-solid fa-dollar-sign"></i> <span id="total-balance">0</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="history-con">
                                <h2>Recent History</h2>
                                <div id="recent-history"></div>
                                <h2 class="salary-title">Min <span>Salary</span> Max</h2>
                                <div class="salary-item">
                                    <p id="min-income">$0</p>
                                    <p id="max-income">$0</p>
                                </div>
                                <h2 class="salary-title">Min <span>Expense</span> Max</h2>
                                <div class="salary-item">
                                    <p id="min-expense">$0</p>
                                    <p id="max-expense">$0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Transactions Tab -->
                <div id="transactions" class="tab-content hidden">
                    <div class="InnerLayout">
                        <h1>All Transactions</h1>
                        <div class="stats-con">
                            <div class="chart-con">
                                <div class="chart-placeholder">
                                    <i class="fa-solid fa-chart-pie"></i> Transaction Chart
                                </div>
                                <div class="amount-con">
                                    <div class="income">
                                        <h2>Total Income</h2>
                                        <p><i class="fa-solid fa-dollar-sign"></i> <span id="total-income-2">0</span></p>
                                    </div>
                                    <div class="expense">
                                        <h2>Total Expense</h2>
                                        <p><i class="fa-solid fa-dollar-sign"></i> <span id="total-expense-2">0</span></p>
                                    </div>
                                    <div class="balance">
                                        <h2>Total Balance</h2>
                                        <p><i class="fa-solid fa-dollar-sign"></i> <span id="total-balance-2">0</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="history-con">
                                <h2>Recent History</h2>
                                <div id="recent-history-2"></div>
                                <h2 class="salary-title">Min <span>Salary</span> Max</h2>
                                <div class="salary-item">
                                    <p id="min-income-2">$0</p>
                                    <p id="max-income-2">$0</p>
                                </div>
                                <h2 class="salary-title">Min <span>Expense</span> Max</h2>
                                <div class="salary-item">
                                    <p id="min-expense-2">$0</p>
                                    <p id="max-expense-2">$0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Income Tab -->
                <div id="income" class="tab-content hidden">
                    <div class="InnerLayout">
                        <h1>Incomes</h1>
                        <h2 class="total-income">Total Income: <span id="total-income-3">$0</span></h2>
                        <div class="income-content">
                            <div class="form-container">
                                <form class="Form" id="income-form">
                                    <div class="input-control">
                                        <input type="text" name="title" placeholder="Salary Title" required>
                                    </div>
                                    <div class="input-control">
                                        <input type="number" name="amount" placeholder="Salary Amount" required>
                                    </div>
                                    <div class="input-control">
                                        <input type="date" name="date" required>
                                    </div>
                                    <div class="selects input-control">
                                        <select name="category" required>
                                            <option value="" disabled selected>Select Option</option>
                                            <option value="salary">Salary</option>
                                            <option value="freelancing">Freelancing</option>
                                            <option value="investments">Investments</option>
                                            <option value="stocks">Stocks</option>
                                            <option value="bitcoin">Bitcoin</option>
                                            <option value="bank">Bank Transfer</option>
                                            <option value="youtube">Youtube</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div class="input-control">
                                        <textarea name="description" placeholder="Add A Reference" cols="30" rows="4"></textarea>
                                    </div>
                                    <div class="submit-btn">
                                        <button type="submit">
                                            <i class="fa-solid fa-plus"></i> Add Income
                                        </button>
                                    </div>
                                </form>
                            </div>
                            <div class="incomes" id="income-list">
                                <!-- Income items will be dynamically added here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Expenses Tab -->
                <div id="expenses" class="tab-content hidden">
                    <div class="InnerLayout">
                        <h1>Expenses</h1>
                        <h2 class="total-income">Total Expense: <span id="total-expense-3">$0</span></h2>
                        <div class="income-content">
                            <div class="form-container">
                                <form class="Form" id="expense-form">
                                    <div class="input-control">
                                        <input type="text" name="title" placeholder="Expense Title" required>
                                    </div>
                                    <div class="input-control">
                                        <input type="number" name="amount" placeholder="Expense Amount" required>
                                    </div>
                                    <div class="input-control">
                                        <input type="date" name="date" required>
                                    </div>
                                    <div class="selects input-control">
                                        <select name="category" required>
                                            <option value="" disabled selected>Select Option</option>
                                            <option value="education">Education</option>
                                            <option value="groceries">Groceries</option>
                                            <option value="health">Health</option>
                                            <option value="subscriptions">Subscriptions</option>
                                            <option value="takeaways">Takeaways</option>
                                            <option value="clothing">Clothing</option>
                                            <option value="travelling">Travelling</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div class="input-control">
                                        <textarea name="description" placeholder="Add A Reference" cols="30" rows="4"></textarea>
                                    </div>
                                    <div class="submit-btn">
                                        <button type="submit">
                                            <i class="fa-solid fa-plus"></i> Add Expense
                                        </button>
                                    </div>
                                </form>
                            </div>
                            <div class="incomes" id="expense-list">
                                <!-- Expense items will be dynamically added here -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Global state
        let incomes = [];
        let expenses = [];
        let activeTab = 'dashboard';

        // Load data from localStorage
        function loadData() {
            const savedIncomes = localStorage.getItem('incomes');
            const savedExpenses = localStorage.getItem('expenses');
            
            if (savedIncomes) {
                incomes = JSON.parse(savedIncomes);
            }
            if (savedExpenses) {
                expenses = JSON.parse(savedExpenses);
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('incomes', JSON.stringify(incomes));
            localStorage.setItem('expenses', JSON.stringify(expenses));
        }

        // Calculate totals
        function totalIncome() {
            return incomes.reduce((total, income) => total + parseFloat(income.amount), 0);
        }

        function totalExpenses() {
            return expenses.reduce((total, expense) => total + parseFloat(expense.amount), 0);
        }

        function totalBalance() {
            return totalIncome() - totalExpenses();
        }

        // Update dashboard displays
        function updateDashboard() {
            const totalIncomeValue = totalIncome();
            const totalExpenseValue = totalExpenses();
            const totalBalanceValue = totalBalance();

            // Update all dashboard instances
            document.querySelectorAll('#total-income, #total-income-2').forEach(el => {
                el.textContent = totalIncomeValue.toFixed(2);
            });
            document.querySelectorAll('#total-expense, #total-expense-2').forEach(el => {
                el.textContent = totalExpenseValue.toFixed(2);
            });
            document.querySelectorAll('#total-balance, #total-balance-2').forEach(el => {
                el.textContent = totalBalanceValue.toFixed(2);
            });
            document.getElementById('total-income-3').textContent = `$${totalIncomeValue.toFixed(2)}`;
            document.getElementById('total-expense-3').textContent = `$${totalExpenseValue.toFixed(2)}`;

            // Update min/max values
            if (incomes.length > 0) {
                const incomeAmounts = incomes.map(income => parseFloat(income.amount));
                document.querySelectorAll('#min-income, #min-income-2').forEach(el => {
                    el.textContent = `$${Math.min(...incomeAmounts).toFixed(2)}`;
                });
                document.querySelectorAll('#max-income, #max-income-2').forEach(el => {
                    el.textContent = `$${Math.max(...incomeAmounts).toFixed(2)}`;
                });
            }

            if (expenses.length > 0) {
                const expenseAmounts = expenses.map(expense => parseFloat(expense.amount));
                document.querySelectorAll('#min-expense, #min-expense-2').forEach(el => {
                    el.textContent = `$${Math.min(...expenseAmounts).toFixed(2)}`;
                });
                document.querySelectorAll('#max-expense, #max-expense-2').forEach(el => {
                    el.textContent = `$${Math.max(...expenseAmounts).toFixed(2)}`;
                });
            }

            updateRecentHistory();
        }

        // Update recent history
        function updateRecentHistory() {
            const history = [...incomes, ...expenses];
            history.sort((a, b) => new Date(b.date) - new Date(a.date));
            const recentHistory = history.slice(0, 3);

            const historyContainers = ['recent-history', 'recent-history-2'];
            historyContainers.forEach(containerId => {
                const container = document.getElementById(containerId);
                container.innerHTML = '';

                recentHistory.forEach(item => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'IncomeItem';
                    historyItem.innerHTML = `
                        <div class="icon" style="background: ${item.type === 'income' ? '#42AD00' : '#F56692'}">
                            <i class="fa-solid ${item.type === 'income' ? 'fa-money-bill-trend-up' : 'fa-money-bill-transfer'}" style="color: white;"></i>
                        </div>
                        <div class="content">
                            <h4>${item.title}</h4>
                            <div class="inner-content">
                                <div class="text">
                                    <p><i class="fa-solid fa-dollar-sign"></i> ${parseFloat(item.amount).toFixed(2)}</p>
                                    <p><i class="fa-solid fa-calendar"></i> ${new Date(item.date).toLocaleDateString()}</p>
                                    <p><i class="fa-solid fa-tag"></i> ${item.category}</p>
                                </div>
                            </div>
                        </div>
                    `;
                    container.appendChild(historyItem);
                });
            });
        }

        // Get category icon
        function getCategoryIcon(category) {
            const icons = {
                salary: 'fa-briefcase',
                freelancing: 'fa-earth-americas',
                investments: 'fa-arrow-trend-up',
                stocks: 'fa-arrow-trend-up',
                bitcoin: 'fa-bitcoin',
                bank: 'fa-university',
                youtube: 'fa-youtube',
                other: 'fa-ellipsis',
                education: 'fa-graduation-cap',
                groceries: 'fa-shopping-cart',
                health: 'fa-heartbeat',
                subscriptions: 'fa-credit-card',
                takeaways: 'fa-utensils',
                clothing: 'fa-tshirt',
                travelling: 'fa-plane'
            };
            return icons[category] || 'fa-tag';
        }

        // Render income list
        function renderIncomeList() {
            const incomeList = document.getElementById('income-list');
            incomeList.innerHTML = '';

            incomes.forEach(income => {
                const incomeItem = document.createElement('div');
                incomeItem.className = 'IncomeItem';
                incomeItem.innerHTML = `
                    <div class="icon" style="background: #42AD00">
                        <i class="fa-solid ${getCategoryIcon(income.category)}" style="color: white;"></i>
                    </div>
                    <div class="content">
                        <h4>${income.title}</h4>
                        <div class="inner-content">
                            <div class="text">
                                <p><i class="fa-solid fa-dollar-sign"></i> ${parseFloat(income.amount).toFixed(2)}</p>
                                <p><i class="fa-solid fa-calendar"></i> ${new Date(income.date).toLocaleDateString()}</p>
                                <p><i class="fa-solid fa-tag"></i> ${income.category}</p>
                                ${income.description ? `<p><i class="fa-solid fa-comment"></i> ${income.description}</p>` : ''}
                            </div>
                            <div class="delete-btn" onclick="deleteIncome('${income.id}')">
                                <i class="fa-solid fa-trash"></i>
                            </div>
                        </div>
                    </div>
                `;
                incomeList.appendChild(incomeItem);
            });
        }

        // Render expense list
        function renderExpenseList() {
            const expenseList = document.getElementById('expense-list');
            expenseList.innerHTML = '';

            expenses.forEach(expense => {
                const expenseItem = document.createElement('div');
                expenseItem.className = 'IncomeItem';
                expenseItem.innerHTML = `
                    <div class="icon" style="background: #F56692">
                        <i class="fa-solid ${getCategoryIcon(expense.category)}" style="color: white;"></i>
                    </div>
                    <div class="content">
                        <h4>${expense.title}</h4>
                        <div class="inner-content">
                            <div class="text">
                                <p><i class="fa-solid fa-dollar-sign"></i> ${parseFloat(expense.amount).toFixed(2)}</p>
                                <p><i class="fa-solid fa-calendar"></i> ${new Date(expense.date).toLocaleDateString()}</p>
                                <p><i class="fa-solid fa-tag"></i> ${expense.category}</p>
                                ${expense.description ? `<p><i class="fa-solid fa-comment"></i> ${expense.description}</p>` : ''}
                            </div>
                            <div class="delete-btn" onclick="deleteExpense('${expense.id}')">
                                <i class="fa-solid fa-trash"></i>
                            </div>
                        </div>
                    </div>
                `;
                expenseList.appendChild(expenseItem);
            });
        }

        // Add income
        function addIncome(formData) {
            const income = {
                id: Date.now().toString(),
                title: formData.get('title'),
                amount: formData.get('amount'),
                date: formData.get('date'),
                category: formData.get('category'),
                description: formData.get('description'),
                type: 'income'
            };
            incomes.push(income);
            saveData();
            updateDashboard();
            renderIncomeList();
        }

        // Add expense
        function addExpense(formData) {
            const expense = {
                id: Date.now().toString(),
                title: formData.get('title'),
                amount: formData.get('amount'),
                date: formData.get('date'),
                category: formData.get('category'),
                description: formData.get('description'),
                type: 'expense'
            };
            expenses.push(expense);
            saveData();
            updateDashboard();
            renderExpenseList();
        }

        // Delete income
        function deleteIncome(id) {
            incomes = incomes.filter(income => income.id !== id);
            saveData();
            updateDashboard();
            renderIncomeList();
        }

        // Delete expense
        function deleteExpense(id) {
            expenses = expenses.filter(expense => expense.id !== id);
            saveData();
            updateDashboard();
            renderExpenseList();
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });

            // Remove active class from all menu items
            document.querySelectorAll('.menu-items li').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.remove('hidden');

            // Add active class to selected menu item
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

            activeTab = tabName;
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            updateDashboard();
            renderIncomeList();
            renderExpenseList();

            // Navigation event listeners
            document.querySelectorAll('.menu-items li').forEach(item => {
                item.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });

            // Income form submission
            document.getElementById('income-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                addIncome(formData);
                this.reset();
            });

            // Expense form submission
            document.getElementById('expense-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                addExpense(formData);
                this.reset();
            });
        });
    </script>
</body>
</html>
